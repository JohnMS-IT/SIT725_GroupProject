<div class="container my-4">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/">Home</a></li>
            <li class="breadcrumb-item"><a href="/shop">Shop</a></li>
            <li class="breadcrumb-item"><a href="/shop?category=<%= encodeURIComponent(product.category) %>"><%= product.category %></a></li>
            <li class="breadcrumb-item active" aria-current="page"><%= product.name %></li>
        </ol>
    </nav>

    <div class="row">
        <!-- Product Image -->
        <div class="col-md-6">
            <div class="card">
                <img src="/<%= product.image %>" class="card-img-top" alt="<%= product.name %>" 
                     style="height: 500px; object-fit: cover;">
            </div>
        </div>

        <!-- Product Details -->
        <div class="col-md-6">
            <div class="ps-md-4">
                <h1 class="mb-3"><%= product.name %></h1>
                
                <div class="mb-3">
                    <span class="badge bg-secondary fs-6"><%= product.category %></span>
                </div>

                <div class="mb-4">
                    <h2 class="text-primary">$<%= product.price %></h2>
                </div>

                <% if (product.description) { %>
                    <div class="mb-4">
                        <h5>Description</h5>
                        <p class="lead"><%= product.description %></p>
                    </div>
                <% } %>

                <!-- Product Features -->
                <div class="mb-4">
                    <h5>Features</h5>
                    <ul class="list-unstyled">
                        <li class="mb-2">‚úì Premium quality materials</li>
                        <li class="mb-2">‚úì Comfortable fit</li>
                        <li class="mb-2">‚úì Durable construction</li>
                        <li class="mb-2">‚úì Available in multiple sizes</li>
                    </ul>
                </div>

                <!-- Size Selection -->
                <div class="mb-4">
                    <h5>Size</h5>
                    <div class="row">
                        <div class="col-md-6">
                            <select class="form-select" id="sizeSelect">
                                <option value="">Select Size</option>
                                <option value="7">7</option>
                                <option value="7.5">7.5</option>
                                <option value="8">8</option>
                                <option value="8.5">8.5</option>
                                <option value="9">9</option>
                                <option value="9.5">9.5</option>
                                <option value="10">10</option>
                                <option value="10.5">10.5</option>
                                <option value="11">11</option>
                                <option value="11.5">11.5</option>
                                <option value="12">12</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="d-flex gap-3 mb-4">
                    <button class="btn btn-primary btn-lg flex-fill" onclick="addToCart(<%= product.id %>)">
                        Add to Cart
                    </button>
                    <button class="btn btn-outline-secondary" onclick="addToWishlist(<%= product.id %>)">
                        ‚ô° Wishlist
                    </button>
                </div>

                <!-- Additional Info -->
                <div class="border-top pt-4">
                    <div class="row text-center">
                        <div class="col-4">
                            <small class="text-muted">üöö<br>Free Shipping</small>
                        </div>
                        <div class="col-4">
                            <small class="text-muted">‚Ü©Ô∏è<br>Easy Returns</small>
                        </div>
                        <div class="col-4">
                            <small class="text-muted">üõ°Ô∏è<br>1 Year Warranty</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Related Products -->
    <% if (relatedProducts && relatedProducts.length > 0) { %>
        <div class="mt-5">
            <h3 class="mb-4">Related Products</h3>
            <div class="row">
                <% relatedProducts.forEach(relatedProduct => { %>
                    <div class="col-lg-3 col-md-6 mb-4">
                        <div class="card h-100">
                            <img src="/<%= relatedProduct.image %>" class="card-img-top" alt="<%= relatedProduct.name %>" style="height: 200px; object-fit: cover;">
                            <div class="card-body d-flex flex-column">
                                <h6 class="card-title"><%= relatedProduct.name %></h6>
                                <p class="card-text text-muted small"><%= relatedProduct.category %></p>
                                <div class="mt-auto">
                                    <p class="card-text"><strong>$<%= relatedProduct.price %></strong></p>
                                    <a href="/product/<%= relatedProduct.id %>" class="btn btn-outline-primary btn-sm">View Details</a>
                                </div>
                            </div>
                        </div>
                    </div>
                <% }); %>
            </div>
        </div>
    <% } %>
</div>

<script>
    function addToCart(productId) {
        const size = document.getElementById('sizeSelect').value;
        if (!size) {
            alert('Please select a size first.');
            return;
        }
        alert(`Product added to cart! Size: ${size} (Cart functionality not implemented yet)`);
    }

    function addToWishlist(productId) {
        alert('Product added to wishlist! (Wishlist functionality not implemented yet)');
    }
</script>

